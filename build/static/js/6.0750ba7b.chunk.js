(this["webpackJsonpchat-app-frontend"]=this["webpackJsonpchat-app-frontend"]||[]).push([[6],{132:function(e,t,n){},138:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n(40),a=n.n(r);function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=n(41),o=n(14),i=n(54),l=n(47),u=n(0),p=(n(132),n(13)),b=n(9),d=n(15),j=n(42),O=n.n(j),f=n(2),g=["error","title"];function h(){var e=Object(u.useState)({signIn:!1,signUp:!1}),t=Object(l.a)(e,2),n=t[0],r=t[1],j=Object(u.useState)(null),h=Object(l.a)(j,2),m=h[0],w=h[1],v=Object(u.useState)({}),y=Object(l.a)(v,2),x=y[0],N=y[1],P=function(e){w(Object(i.a)(Object(i.a)({},m),{},Object(o.a)({},e.target.name,e.target.value)))},S=function(){var e=new RegExp(/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,15}/g).test(m&&m.email);return null!==m&&""!==m.email&&void 0!==m.email&&e?""!==m.password&&void 0!==m.password||(N({password:"Please enter your password!"}),!1):(N({email:"Please enter a valid email!"}),!1)},I=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,c,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r({signIn:!0}),t.preventDefault(),!S()){e.next=16;break}return N(""),n=p.b+p.a.login,e.prev=5,e.next=8,O.a.post(n,m);case 8:!0===(c=e.sent).data.error?d.b.error(c.data.title):(d.b.success(c.data.title),o=c.data,o.error,o.title,i=s(o,g),w(c.data.data),localStorage.setItem("chat-app-auth",JSON.stringify(i)),setTimeout((function(){window.location.href="/"}),2e3)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),e.t0.response,d.b.error("Something went wrong!");case 16:r({signIn:!1});case 17:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"login",children:[Object(f.jsx)(d.a,{}),Object(f.jsxs)("div",{className:"loginWrapper",children:[Object(f.jsxs)("div",{className:"loginLeft",children:[Object(f.jsx)("h3",{className:"loginLogo",children:"Chat Now"}),Object(f.jsx)("span",{className:"loginDesc",children:"Connect with freinds and the world around you on Chat Now."})]}),Object(f.jsx)("div",{className:"loginRight",children:Object(f.jsxs)("div",{className:"loginBox",children:[Object(f.jsx)("input",{type:"text",placeholder:"email",name:"email",className:"loginInput",onChange:function(e){return P(e)}}),Object(f.jsx)("span",{className:"validationMessage",children:x.email}),Object(f.jsx)("input",{type:"password",placeholder:"password",name:"password",className:"loginInput",onChange:function(e){return P(e)}}),Object(f.jsx)("span",{className:"validationMessage",children:x.password}),Object(f.jsx)("button",{className:"loginButton",type:"submit",onClick:I,disabled:n.signIn,children:n.signIn?"Please wait...":"Login"}),Object(f.jsx)(b.b,{to:"/register",className:"loginRegisterButton",children:"Create a new account"})]})})]})]})}},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(14);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);
//# sourceMappingURL=6.0750ba7b.chunk.js.map